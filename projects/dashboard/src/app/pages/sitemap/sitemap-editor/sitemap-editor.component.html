<mat-card fxFlex="100%">
  <mat-card-title>
    <span>{{(!data||data.id==0)?'Add':'Edit'}} Navigation</span>
  </mat-card-title>
  <mat-divider></mat-divider>
  <mat-card-content fxLayout="column">
    <form #form="ngForm">
      <mat-card fxFlex="100%">
        <mat-card-content fxLayout="column">
          <mat-form-field fxFlex>
            <input matInput maxlength="1023" placeholder="Title" name="title" [(ngModel)]="i18n.title" [readOnly]="!pageIsEditable" required>
          </mat-form-field>
          <mat-form-field fxFlex>
            <input matInput maxlength="1023" placeholder="Url" name="url" [(ngModel)]="i18n.url" [readOnly]="!pageIsEditable">
          </mat-form-field>
        </mat-card-content>
        <mat-card-title *ngIf="node && node.getLevel()==3">
          <h3>Image</h3>
        </mat-card-title>
        <mat-card-content fxLayout="column" *ngIf="node && node.getLevel()==3">
          <div fxLayout="row" fxLayoutAlign="center" *ngIf="i18n.image">
            <div class="text-center">
              <img [src]="i18n.image | safeUrl">
            </div>
          </div>
          <button type="button" mat-button (click)="imgFileInput.click()" [disabled]="isLoading" *ngIf="pageIsEditable">Upload a image (Recommended size: 460*230)</button>
          <input hidden type="file" #imgFileInput accept="image/*" (change)="imgFileSelect($event)" />
          <mat-form-field fxFlex>
            <input matInput placeholder="Image url" name="imageSrc" [(ngModel)]="i18n.image" [readOnly]="!pageIsEditable">
          </mat-form-field>
        </mat-card-content>
      </mat-card>
    </form>
  </mat-card-content>
  <mat-card-content fxLayout="column">
    <div fxLayout="row" fxLayoutAlign="end center">
      <span fxFlex></span>
      <button mat-button color="primary" (click)="save()" [disabled]="!form.valid || isLoading" *ngIf="pageIsEditable">Save</button>
    </div>
  </mat-card-content>
</mat-card>
