<div fxLayout="row">
  <mat-card fxFlex="100%">
    <mat-card-title fxLayout>
      <span>{{(id===0)?'Add':'Edit'}} Icon</span>
    </mat-card-title>
    <mat-divider></mat-divider>
    <mat-card-content fxLayout="column">
      <form #form="ngForm">
        <mat-card fxFlex="100%">
          <mat-card-content fxLayout="column">
            <mat-card-title>
              <h3>Icon Image</h3>
            </mat-card-title>
            <mat-card-content fxLayout="column">
              <div fxLayout="row" fxLayoutAlign="center" *ngIf="icon.imagePath">
                <div class="text-center">
                  <img [src]="icon.imagePath | safeUrl">
                </div>
              </div>
              <button type="button" mat-button (click)="imgFileInput.click()" [disabled]="isLoading" *ngIf="pageIsEditable">Upload
                a image (Recommended size: 150*150)</button>
              <input hidden type="file" #imgFileInput accept="image/*" (change)="uploadModelImage($event)" />
              <mat-form-field fxFlex>
                <input matInput placeholder="Icon Path" name="imagePath" [(ngModel)]="icon.imagePath" [readOnly]="!pageIsEditable"
                  required>
              </mat-form-field>
            </mat-card-content>

            <mat-form-field>
              <mat-select name="typeId" placeholder="Icon Type" [(ngModel)]="icon.typeId" required [disabled]="!pageIsEditable">
                <mat-option *ngFor="let type of types" [value]="type.value">{{type.optionText}}</mat-option>
              </mat-select>
            </mat-form-field>

            <vvtk-language-selector fxFlexAlign="end" *ngIf="id!==0"></vvtk-language-selector>
            <mat-form-field>
              <input matInput placeholder="Icon Name" name="iconName" [(ngModel)]="icon.name" [readOnly]="!pageIsEditable"
                required>
            </mat-form-field>
          </mat-card-content>
        </mat-card>
      </form>
    </mat-card-content>
    <mat-card-content fxLayout="column">
      <div fxLayout="row" fxLayoutAlign="end center">
        <button mat-button [routerLink]="['/public/icons/icon']">Cancel</button>
        <span fxFlex></span>
        <button mat-button color="primary" (click)="save()" [disabled]="!form.valid || isLoading" *ngIf="pageIsEditable">Save</button>
      </div>
    </mat-card-content>
  </mat-card>
</div>
