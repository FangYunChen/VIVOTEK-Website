<div class="panel">
  <!-- {{designToolService.advancedNvrList | json}} -->
  <mat-checkbox
    [(ngModel)]="designToolService.isAdvancedNvr"
    (change)="isAdvancedNvrChanged()"
    >{{ "Advanced: Multi-type NVR" | i18n }}</mat-checkbox
  >
  <mat-card class="mat-elevation-z4" style="width: 680px; margin-left: 40px;">
    <div class="card__header">
      <ul class="model-list">
        <li
          class="model-item"
          *ngFor="
            let advancedNvr of designToolService.advancedNvrList;
            let idx = index
          "
        >
          <label class="field">
            <div class="field__title">{{ "NVR" | i18n }}</div>
            <div class="field__content">
              <mat-select
                class="model-select"
                [(ngModel)]="advancedNvr.model"
                (selectionChange)="changeNvr(idx)"
              >
                <mat-option *ngFor="let nvr of nvrList" [value]="nvr.Name">
                  {{ nvr.Name }}
                </mat-option>
              </mat-select>
            </div>
          </label>
          <label class="field">
            <div class="field__title">{{ "Qty" | i18n }}</div>
            <div class="field__content">
              <!-- <mat-select
                class="qty-select"
                [(ngModel)]="advancedNvr.qty"
                (selectionChange)="changeRemaining()"
              >
                <mat-option *ngFor="let qty of qtyArr" [value]="qty">
                  {{ qty }}
                </mat-option>
              </mat-select> -->
              <input
                  type="number"
                  matInput
                  placeholder="Quantity"
                  [(ngModel)]="advancedNvr.qty"
                  min="1"
                  (ngModelChange)="changeRemaining()"
                />
            </div>
          </label>
          <div class="actions">
            <button
              mat-mini-fab
              class="delete-button"
              (click)="deleteNVR(idx)"
              [disabled]="designToolService.advancedNvrList.length === 1"
            >
              <mat-icon>delete</mat-icon>
            </button>
            <button mat-mini-fab class="add-button" (click)="addNVR(idx)">
              <mat-icon>add</mat-icon>
            </button>
          </div>
        </li>
      </ul>
      <p
        class="remaining"
        *ngIf="remainingCh > 0 || remainingMbps > 0 || remainingTb > 0"
      >
        {{ "Remaining:" | i18n }}
        <span *ngIf="remainingCh > 0">
          <span class="highlight">{{ remainingCh | number: "1.0-2" }}</span> ch,
        </span>
        <span *ngIf="remainingMbps > 0">
          <span class="highlight">{{ remainingMbps | number: "1.0-2" }}</span>
          Mbps bitrate,
        </span>
        <span *ngIf="remainingTb > 0">
          <span class="highlight">{{ remainingTb | number: "1.0-2" }}</span> TB
          storage
        </span>
      </p>
    </div>
    <!-- <vvtk-nvr-advanced-model
      [items]="designToolService.advancedNvrList"
    ></vvtk-nvr-advanced-model> -->
    <div class="model-info">
  {{ "Model Info" | i18n }}
</div>
<div class="wrap">
  <div class="item__title">
    <div class="field__content">{{ "Model" | i18n }}</div>
    <div class="field">
      <div class="field__title">{{ "Storages" | i18n }}</div>
      <div class="field__content">HDD Devices</div>
      <div class="field__content">Max. Support HDD Capacity</div>
      <div class="field__content">Selected HDD Capacity</div>
    </div>
    <div class="field">
      <div class="field__title">{{ "Record" | i18n }}</div>
      <div class="field__content">Maximum Channel</div>
      <div class="field__content">Recording Throughput (MB)</div>
      <div class="field__content">Network Throughput (MB)</div>
    </div>
  </div>
  <div class="item__group">
    <div class="item__content" *ngFor="let item of designToolService.advancedNvrList">
      <div class="field__content">{{ item.model }}</div>
      <div class="field">
        <div class="field__title"><br /></div>
        <div class="field__content">{{ item.hddDevices }}</div>
        <div class="field__content">{{ item.hddMaxCapacity_s }}</div>
        <div class="field__content">
          <div *ngIf="item.SelectedHDDCapacity">
            <mat-select class="model-select"
            [(value)]="item.hddMaxCapacity"
            (selectionChange)="changeRemaining()">
              <mat-option *ngFor="let hdd of item.SelectedHDDCapacity" [value]="hdd">
                {{ hdd }}
              </mat-option>
            </mat-select>
          </div>
        </div>
        <div class="field">
          <div class="field__title"><br /></div>
          <div class="field__content">{{ item.maximumChanel }}</div>
          <div class="field__content">{{ item.recordingThroughput }}</div>
          <div class="field__content">{{ item.networkThroughput }}</div>
        </div>
      </div>
    </div>
    <div class="item__content" *ngFor="let item of designToolService.advancedNvrList">
      <div class="field__content">&nbsp;</div>
      <div class="field">
        <div class="field__title"><br /></div>
        <div class="field__content">&nbsp;</div>
        <div class="field__content">&nbsp;<a [href]="item.SupportedHDDListurl" target="_blank" *ngIf="item.SupportedHDDListurl">Support HDD List</a>
        </div>
        <div class="field__content">&nbsp;</div>
        <div class="field">
          <div class="field__title"><br /></div>
          <div class="field__content">&nbsp;</div>
          <div class="field__content">&nbsp;</div>
          <div class="field__content">&nbsp;</div>
        </div>
      </div>
    </div>
  </div>
</div>
  </mat-card>
</div>
