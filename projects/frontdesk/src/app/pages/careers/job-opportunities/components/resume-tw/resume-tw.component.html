<div id="careers" class="container">
  <vvtk-top-banner [rootPath]="'/careers/job-opportunities' | customPath" [contentPageTitle]="('careers-resume-tw' | i18n)"></vvtk-top-banner>
  <section class="model section">
    <div class="wrap">
      <h2 class="line text-center">Apply</h2>
      <form [formGroup]="form" (ngSubmit)="onSubmit()">
        <div class="block">
          <h3>聯絡資訊</h3>
          <div class="list-row">
            <div class="list-col list-col6">
              <div class="input-box form-label">
                <input type="text" class="form-control" [value]="vacancyTitle" disabled>
                <label for="">應徵項目</label>
              </div>
            </div>
            <div class="list-col list-col6">
              <div class="input-box form-label">
                <input type="text" class="form-control" maxlength="256" [formControl]="form.controls['name']">
                <label for="">姓名</label>
                <div *ngIf="form.controls['name'].hasError('required') && (form.controls['name'].touched)" class="alert alert-danger">必填</div>
              </div>
            </div>
          </div>
          <div class="list-row">
            <div class="list-col list-col6">
              <div class="input-box form-label">
                <select name="" id="" [formControl]="form.controls['sex']">
                  <option value=""></option>
                  <option value="0">男</option>
                  <option value="1">女</option>
                </select>
                <label for="">性別</label>
                <div *ngIf="form.controls['sex'].hasError('required') && (form.controls['sex'].touched)" class="alert alert-danger">必填</div>
              </div>
            </div>
            <div class="list-col list-col6">
              <div class="input-box form-label">
                <input type="date" class="form-control" maxlength="256" [formControl]="form.controls['birthday']" [value]="form.controls['birthday'].value|date:'yyyy-MM-dd'">
                <label for="">出生日期</label>
                <div *ngIf="form.controls['birthday'].hasError('required') && (form.controls['birthday'].touched)" class="alert alert-danger">必填</div>
              </div>
            </div>
          </div>
          <div class="list-row">
            <div class="list-col list-col6">
              <div class="input-box form-label">
                <input type="text" class="form-control" maxlength="256" [formControl]="form.controls['idNo']">
                <label for="">身份證字號</label>
                <div *ngIf="form.controls['idNo'].hasError('required') && (form.controls['idNo'].touched)" class="alert alert-danger">必填</div>
              </div>
            </div>
            <div class="list-col list-col6">
              <div class="input-box form-label">
                <select name="" id="" [formControl]="form.controls['militaryService']">
                  <option value="0">役畢</option>
                  <option value="1">免役</option>
                  <option value="2">未役</option>
                </select>
                <label for="">兵役狀況</label>
                <div *ngIf="form.controls['militaryService'].hasError('required') && (form.controls['militaryService'].touched)" class="alert alert-danger">必填</div>
              </div>
            </div>
          </div>
          <div class="list-row">
            <div class="list-col list-col6">
              <div class="input-box form-label">
                <select name="" id="" [formControl]="form.controls['maritalStatus']">
                  <option value="0">未婚</option>
                  <option value="1">已婚</option>
                </select>
                <label for="">婚姻狀況</label>
                <div *ngIf="form.controls['maritalStatus'].hasError('required') && (form.controls['maritalStatus'].touched)" class="alert alert-danger">必填</div>
              </div>
            </div>
            <div class="list-col list-col6">
              <div class="input-box form-label">
                <input type="number" min="0" class="form-control" maxlength="256" [formControl]="form.controls['childrenNumber']">
                <label for="">子女人數</label>
                <div *ngIf="form.controls['childrenNumber'].hasError('required') && (form.controls['childrenNumber'].touched)" class="alert alert-danger">必填</div>
              </div>
            </div>
          </div>
          <div class="list-row">
            <div class="list-col list-col6">
              <div class="input-box form-label">
                <input type="text" class="form-control" maxlength="256" [formControl]="form.controls['email']">
                <label for="">電子郵件</label>
                <div *ngIf="form.controls['email'].hasError('required') && (form.controls['email'].touched)" class="alert alert-danger">必填</div>
                <div *ngIf="form.controls['email'].hasError('pattern') && (form.controls['email'].touched)" class="alert alert-danger">Not an Email.</div>
              </div>
            </div>
            <div class="list-col list-col6">
              <div class="input-box form-label">
                <input type="tel" class="form-control" maxlength="256" [formControl]="form.controls['cellphone']">
                <label for="">行動電話</label>
                <div *ngIf="form.controls['cellphone'].hasError('required') && (form.controls['cellphone'].touched)" class="alert alert-danger">必填</div>
              </div>
            </div>
          </div>
          <div class="list-row">
            <div class="list-col list-col6">
              <div class="input-box form-label">
                <input type="text" class="form-control" maxlength="256" [formControl]="form.controls['presentAddress']">
                <label for="">通訊地址</label>
                <div *ngIf="form.controls['presentAddress'].hasError('required') && (form.controls['presentAddress'].touched)" class="alert alert-danger">必填</div>
              </div>
            </div>
            <div class="list-col list-col6">
              <div class="input-box form-label">
                <input type="tel" class="form-control" maxlength="256" [formControl]="form.controls['presentPhone']">
                <label for="">電話</label>
                <div *ngIf="form.controls['presentPhone'].hasError('required') && (form.controls['presentPhone'].touched)" class="alert alert-danger">必填</div>
              </div>
            </div>
          </div>
          <div class="list-row">
            <div class="list-col list-col6">
              <div class="input-box form-label">
                <input type="text" class="form-control" maxlength="256" [formControl]="form.controls['permanentAddress']">
                <label for="">戶籍地址</label>
                <div *ngIf="form.controls['permanentAddress'].hasError('required') && (form.controls['permanentAddress'].touched)" class="alert alert-danger">必填</div>
              </div>
            </div>
            <div class="list-col list-col6">
              <div class="input-box form-label">
                <input type="tel" class="form-control" maxlength="256" [formControl]="form.controls['permanentPhone']">
                <label for="">電話</label>
                <div *ngIf="form.controls['permanentPhone'].hasError('required') && (form.controls['permanentPhone'].touched)" class="alert alert-danger">必填</div>
              </div>
            </div>
          </div>
        </div>
        <div class="block">
          <h3>學歷</h3>
          <div class="tabs">
            <div class="tabs-nav" [class.no-del]="eduDelHide">
              <a [href]="('javascript:;' | safe:'url')" class="tabs-nav-item" *ngFor="let i of eduIndex" [class.open]="'edu'+i === eduActive"
                (click)="tabsOpen('edu','edu'+i)">學歷 {{ i+1 }}
                <span class="btn-del" (click)="delTabs('edu', i)">
                  <i class="fa fa-times-circle"></i>
                </span>
              </a>
              <a [href]="('javascript:;' | safe:'url')" class="btn-add" (click)="addTabs('edu')" [class.hide]="eduIndex.length >= 3">
                <i class="fa fa-plus-circle"></i>
              </a>
            </div>
            <div class="tabs-content" formArrayName="education">
              <div class="tabs-block" *ngFor="let tab of eduIndex; let i = index;" [class.open]="'edu'+tab === eduActive" [formGroupName]="i">
                <div class="list-row">
                  <div class="list-col list-col6">
                    <div class="input-box form-label">
                      <input type="text" class="form-control" maxlength="256" formControlName="schoolName">
                      <label for="">學校名稱</label>
                      <div *ngIf="form.controls['education'].controls[i].controls['schoolName'].hasError('required') && (form.controls['education'].controls[i].controls['schoolName'].touched)"
                        class="alert alert-danger">必填</div>
                    </div>
                  </div>
                  <div class="list-col list-col6">
                    <div class="input-box form-label">
                      <input type="text" class="form-control" maxlength="256" formControlName="major">
                      <label for="">科系</label>
                      <div *ngIf="form.controls['education'].controls[i].controls['major'].hasError('required') && (form.controls['education'].controls[i].controls['major'].touched)"
                        class="alert alert-danger">必填</div>
                    </div>
                  </div>
                </div>
                <div class="list-row">
                  <div class="list-col list-col6">
                    <div class="input-box form-label">
                      <select name="" id="" formControlName="division">
                        <option value="0">日間部</option>
                        <option value="1">夜間部</option>
                      </select>
                      <label for="">日/夜間部</label>
                      <div *ngIf="form.controls['education'].controls[i].controls['division'].hasError('required') && (form.controls['education'].controls[i].controls['division'].touched)"
                        class="alert alert-danger">必填</div>
                    </div>
                  </div>
                  <div class="list-col list-col6">
                    <div class="input-box form-label">
                      <input type="text" class="form-control" maxlength="256" formControlName="degree">
                      <label for="">學位</label>
                      <div *ngIf="form.controls['education'].controls[i].controls['degree'].hasError('required') && (form.controls['education'].controls[i].controls['degree'].touched)"
                        class="alert alert-danger">必填</div>
                    </div>
                  </div>
                </div>
                <div class="list-row">
                  <div class="list-col list-col6">
                    <div class="input-box form-label">
                      <input type="month" class="form-control" maxlength="256" formControlName="fromDate" [value]="form.controls['education'].controls[i].controls['fromDate'].value|date:'yyyy-MM'">
                      <label for="">時間(起訖年月)</label>
                      <div *ngIf="form.controls['education'].controls[i].controls['fromDate'].hasError('required') && (form.controls['education'].controls[i].controls['fromDate'].touched)"
                        class="alert alert-danger">必填</div>
                    </div>
                  </div>
                  <div class="list-col list-col6">
                    <div class="input-box form-label">
                      <input type="month" class="form-control" maxlength="256" formControlName="toDate" [value]="form.controls['education'].controls[i].controls['toDate'].value|date:'yyyy-MM'">
                      <div *ngIf="form.controls['education'].controls[i].controls['toDate'].hasError('required') && (form.controls['education'].controls[i].controls['toDate'].touched)"
                        class="alert alert-danger">必填</div>
                    </div>
                  </div>
                </div>
                <div class="list-row">
                  <div class="list-col list-col6">
                    <div class="input-box form-label">
                      <select name="" id="" formControlName="gradute">
                        <option value="0">畢業</option>
                        <option value="1">肄業</option>
                      </select>
                      <label for="">畢/肄業</label>
                      <div *ngIf="form.controls['education'].controls[i].controls['gradute'].hasError('required') && (form.controls['education'].controls[i].controls['gradute'].touched)"
                        class="alert alert-danger">必填</div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="block">
          <h3>經歷</h3>
          <div class="tabs">
            <div class="tabs-nav" [class.no-del]="empDelHide">
              <a [href]="('javascript:;' | safe:'url')" class="tabs-nav-item" *ngFor="let i of empIndex" [class.open]="'emp'+i === empActive"
                (click)="tabsOpen('emp','emp'+i)">經歷 {{ i+1 }}
                <span class="btn-del" (click)="delTabs('emp', i)">
                  <i class="fa fa-times-circle"></i>
                </span>
              </a>
              <a [href]="('javascript:;' | safe:'url')" class="btn-add" (click)="addTabs('emp')" [class.hide]="empIndex.length >= 3">
                <i class="fa fa-plus-circle"></i>
              </a>
            </div>
            <div class="tabs-content" formArrayName="employmentRecord">
              <div class="tabs-block" *ngFor="let tab of empIndex; let i = index" [class.open]="'emp'+tab === empActive" [formGroupName]="i">
                <div class="list-row">
                  <div class="list-col list-col6">
                    <div class="input-box form-label">
                      <input type="text" class="form-control" maxlength="256" formControlName="companyName">
                      <label for="">服務單位</label>
                      <div *ngIf="form.controls['employmentRecord'].controls[i].controls['companyName'].hasError('required') && (form.controls['employmentRecord'].controls[i].controls['companyName'].touched)"
                        class="alert alert-danger">必填</div>
                    </div>
                  </div>
                  <div class="list-col list-col6">
                    <div class="input-box form-label">
                      <input type="text" class="form-control" maxlength="256" formControlName="department">
                      <label for="">部門</label>
                      <div *ngIf="form.controls['employmentRecord'].controls[i].controls['department'].hasError('required') && (form.controls['employmentRecord'].controls[i].controls['department'].touched)"
                        class="alert alert-danger">必填</div>
                    </div>
                  </div>
                </div>
                <div class="list-row">
                  <div class="list-col list-col6">
                    <div class="input-box form-label">
                      <input type="text" class="form-control" maxlength="256" formControlName="title">
                      <label for="">職缺</label>
                      <div *ngIf="form.controls['employmentRecord'].controls[i].controls['title'].hasError('required') && (form.controls['employmentRecord'].controls[i].controls['title'].touched)"
                        class="alert alert-danger">必填</div>
                    </div>
                  </div>
                  <div class="list-col list-col6">
                    <div class="input-box form-label">
                      <input type="text" class="form-control" maxlength="256" formControlName="reasonForLeaving">
                      <label for="">離職原因</label>
                      <div *ngIf="form.controls['employmentRecord'].controls[i].controls['reasonForLeaving'].hasError('required') && (form.controls['employmentRecord'].controls[i].controls['reasonForLeaving'].touched)"
                        class="alert alert-danger">必填</div>
                    </div>
                  </div>
                </div>
                <div class="list-row">
                  <div class="list-col list-col6">
                    <div class="input-box form-label">
                      <input type="month" class="form-control" maxlength="256" formControlName="fromDate" [value]="form.controls['employmentRecord'].controls[i].controls['fromDate'].value|date:'yyyy-MM'">
                      <label for="">時間(起訖年月)</label>
                      <div *ngIf="form.controls['employmentRecord'].controls[i].controls['fromDate'].hasError('required') && (form.controls['employmentRecord'].controls[i].controls['fromDate'].touched)"
                        class="alert alert-danger">必填</div>
                    </div>
                  </div>
                  <div class="list-col list-col6">
                    <div class="input-box form-label">
                      <input type="month" class="form-control" maxlength="256" formControlName="toDate" [value]="form.controls['employmentRecord'].controls[i].controls['toDate'].value|date:'yyyy-MM'">
                      <div *ngIf="form.controls['employmentRecord'].controls[i].controls['toDate'].hasError('required') && (form.controls['employmentRecord'].controls[i].controls['toDate'].touched)"
                        class="alert alert-danger">必填</div>
                    </div>
                  </div>
                </div>
                <div class="list-row" formGroupName="supervisor">
                  <div class="list-col list-col6">
                    <div class="input-box form-label">
                      <input type="text" class="form-control" maxlength="256" formControlName="name">
                      <label for="">主管姓名</label>
                      <div *ngIf="form.controls['employmentRecord'].controls[i].controls['supervisor'].controls['name'].hasError('required') && (form.controls['employmentRecord'].controls[i].controls['supervisor'].controls['name'].touched)"
                        class="alert alert-danger">必填</div>
                    </div>
                  </div>
                  <div class="list-col list-col6">
                    <div class="input-box form-label">
                      <input type="text" class="form-control" maxlength="256" formControlName="title">
                      <label for="">主管職稱</label>
                      <div *ngIf="form.controls['employmentRecord'].controls[i].controls['supervisor'].controls['title'].hasError('required') && (form.controls['employmentRecord'].controls[i].controls['supervisor'].controls['title'].touched)"
                        class="alert alert-danger">必填</div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="block">
          <h3>家庭狀況</h3>
          <div class="tabs">
            <div class="tabs-nav" [class.no-del]="famDelHide">
              <a [href]="('javascript:;' | safe:'url')" class="tabs-nav-item" *ngFor="let i of famIndex" [class.open]="'fam'+i === famActive"
                (click)="tabsOpen('fam','fam'+i)">家庭成員 {{ i+1 }}
                <span class="btn-del" (click)="delTabs('fam', i)">
                  <i class="fa fa-times-circle"></i>
                </span>
              </a>
              <a [href]="('javascript:;' | safe:'url')" class="btn-add" (click)="addTabs('fam')" [class.hide]="famIndex.length >= 4">
                <i class="fa fa-plus-circle"></i>
              </a>
            </div>
            <div class="tabs-content" formArrayName="familyInformation">
              <div class="tabs-block" *ngFor="let tab of famIndex; let i = index" [class.open]="'fam'+tab === famActive" [formGroupName]="i">
                <div class="list-row">
                  <div class="list-col list-col6">
                    <div class="input-box form-label">
                      <input type="text" class="form-control" maxlength="256" formControlName="relation">
                      <label for="">稱謂</label>
                      <div *ngIf="form.controls['familyInformation'].controls[i].controls['relation'].hasError('required') && (form.controls['familyInformation'].controls[i].controls['relation'].touched)"
                        class="alert alert-danger">必填</div>
                    </div>
                  </div>
                  <div class="list-col list-col6">
                    <div class="input-box form-label">
                      <input type="text" class="form-control" maxlength="256" formControlName="name">
                      <label for="">姓名</label>
                      <div *ngIf="form.controls['familyInformation'].controls[i].controls['name'].hasError('required') && (form.controls['familyInformation'].controls[i].controls['name'].touched)"
                        class="alert alert-danger">必填</div>
                    </div>
                  </div>
                </div>
                <div class="list-row" formGroupName="job">
                  <div class="list-col list-col6">
                    <div class="input-box form-label">
                      <input type="text" class="form-control" maxlength="256" formControlName="company">
                      <label for="">任職公司</label>
                      <div *ngIf="form.controls['familyInformation'].controls[i].controls['job'].controls['company'].hasError('required') && (form.controls['familyInformation'].controls[i].controls['job'].controls['company'].touched)"
                        class="alert alert-danger">必填</div>
                    </div>
                  </div>
                  <div class="list-col list-col6">
                    <div class="input-box form-label">
                      <input type="text" class="form-control" maxlength="256" formControlName="title">
                      <label for="">職務</label>
                      <div *ngIf="form.controls['familyInformation'].controls[i].controls['job'].controls['title'].hasError('required') && (form.controls['familyInformation'].controls[i].controls['job'].controls['title'].touched)"
                        class="alert alert-danger">必填</div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div formGroupName="emergencyContact">
            <div class="list-row">
              <div class="list-col list-col6">
                <div class="input-box form-label">
                  <input type="text" class="form-control" maxlength="256" formControlName="name">
                  <label for="">緊急通知人</label>
                  <div *ngIf="isInvalid('emergencyContact.name')" class="alert alert-danger">必填</div>
                </div>
              </div>
              <div class="list-col list-col6">
                <div class="input-box form-label">
                  <input type="text" class="form-control" maxlength="256" formControlName="relation">
                  <label for="">關係</label>
                  <div *ngIf="isInvalid('emergencyContact.relation')" class="alert alert-danger">必填</div>
                </div>
              </div>
            </div>
            <div class="list-row">
              <div class="list-col list-col6">
                <div class="input-box form-label">
                  <input type="tel" class="form-control" maxlength="256" formControlName="phone">
                  <label for="">電話</label>
                  <div *ngIf="isInvalid('emergencyContact.phone')" class="alert alert-danger">必填</div>
                </div>
              </div>
            </div>
          </div>

        </div>
        <div class="block">
          <div class="list-row">
            <div class="list-col list-col6">
              <div class="input-box form-label">
                <input type="text" class="form-control" maxlength="256" [formControl]="form.controls['interests']">
                <label for="">興趣</label>
                <div *ngIf="form.controls['interests'].hasError('required') && (form.controls['interests'].touched)" class="alert alert-danger">必填</div>
              </div>
            </div>
            <div class="list-col list-col6">
              <div class="input-box form-label">
                <input type="text" class="form-control" maxlength="256" [formControl]="form.controls['skills']">
                <label for="">專長</label>
                <div *ngIf="form.controls['skills'].hasError('required') && (form.controls['skills'].touched)" class="alert alert-danger">必填</div>
              </div>
            </div>
          </div>
          <div class="list-row">
            <div class="list-col list-col12">
              <div class="input-box form-label">
                <textarea class="form-control" [formControl]="form.controls['workExpectation']"></textarea>
                <label for="">對工作期許</label>
                <div *ngIf="form.controls['workExpectation'].hasError('required') && (form.controls['workExpectation'].touched)" class="alert alert-danger">必填</div>
              </div>
            </div>
          </div>
          <div class="list-row">
            <div class="list-col list-col12">
              <div class="input-box form-label">
                <textarea class="form-control" [formControl]="form.controls['futureAspiration']"></textarea>
                <label for="">未來抱負</label>
                <div *ngIf="form.controls['futureAspiration'].hasError('required') && (form.controls['futureAspiration'].touched)" class="alert alert-danger">必填</div>
              </div>
            </div>
          </div>
          <div class="list-row">
            <div class="list-col list-col12">
              <div class="input-box form-label">
                <textarea class="form-control" [formControl]="form.controls['strengthAndWeakness']"></textarea>
                <label for="">個人優缺點</label>
                <div *ngIf="form.controls['strengthAndWeakness'].hasError('required') && (form.controls['strengthAndWeakness'].touched)"
                  class="alert alert-danger">必填</div>
              </div>
            </div>
          </div>
          <div class="list-row">
            <div class="list-col list-col6">
              <div class="input-box form-label">
                <input type="text" class="form-control" maxlength="256" [formControl]="form.controls['expectedSalary']">
                <label for="">希望待遇</label>
                <div *ngIf="form.controls['expectedSalary'].hasError('required') && (form.controls['expectedSalary'].touched)" class="alert alert-danger">必填</div>
              </div>
            </div>
            <div class="list-col list-col6">
              <div class="input-box form-label">
                <input type="date" class="form-control" maxlength="256" [formControl]="form.controls['availabilityDate']" [value]="form.controls['availabilityDate'].value|date:'yyyy-MM-dd'">
                <label for="">預計上班日</label>
                <div *ngIf="form.controls['availabilityDate'].hasError('required') && (form.controls['availabilityDate'].touched)" class="alert alert-danger">必填</div>
              </div>
            </div>
          </div>
          <div class="list-row">
            <div class="list-col list-col12">
              <div class="input-box form-label">
                <input type="text" class="form-control" maxlength="256" [formControl]="form.controls['whereCatchVacancy']">
                <label for="">求才管道(網站名稱、介紹人、其他)</label>
                <div *ngIf="form.controls['whereCatchVacancy'].hasError('required') && (form.controls['whereCatchVacancy'].touched)" class="alert alert-danger">必填</div>
              </div>
            </div>
          </div>
        </div>
        <div class="block">
          <h3>推薦人</h3>
          <div class="tabs">
            <div class="tabs-nav" [class.no-del]="recDelHide">
              <a [href]="('javascript:;' | safe:'url')" class="tabs-nav-item" *ngFor="let i of recIndex" [class.open]="'rec'+i === recActive"
                (click)="tabsOpen('rec','rec'+i)">推薦人 {{ i+1 }}
                <span class="btn-del" (click)="delTabs('rec', i)">
                  <i class="fa fa-times-circle"></i>
                </span>
              </a>
              <a [href]="('javascript:;' | safe:'url')" class="btn-add" (click)="addTabs('rec')" [class.hide]="recIndex.length >= 2">
                <i class="fa fa-plus-circle"></i>
              </a>
            </div>
            <div class="tabs-content" formArrayName="reference">
              <div class="tabs-block" *ngFor="let tab of recIndex; let i = index;" [class.open]="'rec'+tab === recActive" [formGroupName]="i">
                <div class="list-row">
                  <div class="list-col list-col6">
                    <div class="input-box form-label">
                      <input type="text" class="form-control" maxlength="256" formControlName="name">
                      <label for="">姓名</label>
                      <div *ngIf="form.controls['reference'].controls[i].controls['name'].hasError('required') && (form.controls['reference'].controls[i].controls['name'].touched)"
                        class="alert alert-danger">必填</div>
                    </div>
                  </div>
                  <div class="list-col list-col6">
                    <div class="input-box form-label">
                      <input type="text" class="form-control" maxlength="256" formControlName="company">
                      <label for="">服務單位</label>
                      <div *ngIf="form.controls['reference'].controls[i].controls['company'].hasError('required') && (form.controls['reference'].controls[i].controls['company'].touched)"
                        class="alert alert-danger">必填</div>
                    </div>
                  </div>
                </div>
                <div class="list-row">
                  <div class="list-col list-col6">
                    <div class="input-box form-label">
                      <input type="text" class="form-control" maxlength="256" formControlName="title">
                      <label for="">職稱</label>
                      <div *ngIf="form.controls['reference'].controls[i].controls['title'].hasError('required') && (form.controls['reference'].controls[i].controls['title'].touched)"
                        class="alert alert-danger">必填</div>
                    </div>
                  </div>
                  <div class="list-col list-col6">
                    <div class="input-box form-label">
                      <input type="tel" class="form-control" maxlength="256" formControlName="phone">
                      <label for="">連絡電話</label>
                      <div *ngIf="form.controls['reference'].controls[i].controls['phone'].hasError('required') && (form.controls['reference'].controls[i].controls['phone'].touched)"
                        class="alert alert-danger">必填</div>
                    </div>
                  </div>
                </div>
                <div class="list-row">
                  <div class="list-col list-col6">
                    <div class="input-box form-label">
                      <input type="text" class="form-control" maxlength="256" formControlName="relation">
                      <label for="">關係 </label>
                      <div *ngIf="form.controls['reference'].controls[i].controls['relation'].hasError('required') && (form.controls['reference'].controls[i].controls['relation'].touched)"
                        class="alert alert-danger">必填</div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="list-row">
            <div class="list-col list-col12">
              <div class="input-box form-label">
                <textarea maxlength="4000" [formControl]="form.controls['note']"></textarea>
                <label for="">NOTE</label>
              </div>
            </div>
          </div>
          <div class="list-row">
            <div class="list-col list-col12">
              <div class="input-box form-label file-box">
                <input type="file" class="form-control upl" [disabled]="isLoading" multiple (change)="imgFileSelect($event)" />
                <label for="">多檔上傳(word,excel,pdf,圖片)(單檔限制20M以下)</label>
                <div class="preview">
                  <ng-container *ngFor="let file of form.get('files').value; let idx = index;">
                    <ng-container *ngIf="file.size && file.size > limitSize; else elseTemplate">
                      <div class="preview-item limit-size" (click)="removeFile(idx)">
                        <div class="preview-img">
                          <img [src]="file.url | safe:'url'" alt="">
                        </div>
                        <div class="preview-size">檔案大小超出限制</div>
                      </div>
                    </ng-container>
                    <ng-template #elseTemplate>
                      <div class="preview-item" (click)="removeFile(idx)">
                        <div class="preview-img">
                          <img [src]="file.url | safe:'url'" alt="">
                        </div>
                        <div class="preview-size">{{ file.name }}</div>
                      </div>
                    </ng-template>
                  </ng-container>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="input-box btn-box text-center">
          <a [routerLink]="['/careers/job-opportunities' | customPath, vacancyId]" class="btn btn-b">Back</a>
          <button type="submit" class="btn btn-b" [disabled]="form.invalid">下一步</button>
        </div>
      </form>
    </div>
  </section>
</div>
